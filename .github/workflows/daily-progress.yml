name: Daily Cybersecurity Progress

on:
  schedule:
    - cron: "0 6 * * *" # runs daily at 6:00 UTC
  workflow_dispatch:     # allows manual run

jobs:
  daily-progress:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repo
        uses: actions/checkout@v4

      - name: Update Progress Log
        run: |
          TODAY=$(date '+%Y-%m-%d %H:%M:%S')
          # Randomly pick a type of commit for variety
          TYPE=$((RANDOM % 3))
          if [ $TYPE -eq 0 ]; then
              echo "$TODAY - Added notes from learning module" >> daily_progress.log
          elif [ $TYPE -eq 1 ]; then
              echo "$TODAY - Updated cybersecurity tool scripts" >> daily_progress.log
          else
              echo "$TODAY - Added writeup / report / dashboard update" >> daily_progress.log
          fi

      - name: Commit and Push Changes
        run: |
          git config --global user.name "github-actions"
          git config --global user.email "actions@github.com"
          git add daily_progress.log
          git commit -m "Daily progress update: $(date '+%Y-%m-%d')"
          git push
